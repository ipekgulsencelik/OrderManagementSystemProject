@model CreateBookingDTO

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<section class="book_section layout_padding">
    <div class="container">
        <div class="heading_container">
            <h2>
                Masa Rezervasyonu Yap
            </h2>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form_container">
                    <form method="post" asp-controller="Booking" asp-action="BookTable">
                        <div>
                            <input type="text" class="form-control" name="Name" placeholder="Adınız Soyadınız" />
                            <span asp-validation-for="Name" class="text-danger"></span>
                        </div>
                        <div>
                            <input type="text" class="form-control" name="Phone" placeholder="Telefon Numaranız" />
                            <span asp-validation-for="Phone" class="text-danger"></span>
                        </div>
                        <div>
                            <input type="email" class="form-control" name="Email" placeholder="Email Adresiniz" />
                            <span asp-validation-for="Email" class="text-danger"></span>
                        </div>
                        <div>
                            <select class="form-control nice-select wide" name="PersonCount">
                                <option value="" disabled selected>
                                    Kaç Kişilik?
                                </option>
                                <option value="1">
                                    1
                                </option>
                                <option value="2">
                                    2
                                </option>
                                <option value="3">
                                    3
                                </option>
                                <option value="4">
                                    4
                                </option>
                                <option value="5">
                                    5
                                </option>
                                <option value="6">
                                    6
                                </option>
                            </select>
                            <span asp-validation-for="PersonCount" class="text-danger"></span>
                        </div>
                        <div>
                            <input type="datetime-local" class="form-control" name="BookingDate">
                            <span asp-validation-for="BookingDate" class="text-danger"></span>
                        </div>
                        <div class="btn_box">
                            <button onclick="bookATable()">
                                Rezervasyon Yap
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="col-md-6">
                <div class="map_container ">
                    <iframe src="@ViewBag.location" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    function bookATable() {
        Swal.fire({
            title: 'Tebrikler!',
            text: 'Rezervasyon Bilgileriniz Alındı. Size en kısa sürede dönüş yapılacaktır.',
            icon: 'success',
            showCancelButton: false,
            confirmButtonText: 'Tamam',
            cancelButtonText: 'İptal'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "/Default/Index" 
            }
        });
    }
</script>